{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\n/* eslint-disable vue/multi-word-component-names */\nimport axios from 'axios';\nimport Chart from 'chart.js/auto';\nexport default {\n  name: 'Dashboard',\n  data() {\n    return {\n      articles: [],\n      startDate: '',\n      endDate: '',\n      categoryChart: null,\n      dateChart: null\n    };\n  },\n  computed: {\n    filteredArticles() {\n      let filtered = this.articles;\n      if (this.startDate) {\n        filtered = filtered.filter(article => new Date(article.date) >= new Date(this.startDate));\n      }\n      if (this.endDate) {\n        filtered = filtered.filter(article => new Date(article.date) <= new Date(this.endDate));\n      }\n      return filtered;\n    },\n    totalArticles() {\n      return this.filteredArticles.length;\n    },\n    uniqueCategories() {\n      return new Set(this.filteredArticles.map(article => article.category)).size;\n    },\n    articlesThisMonth() {\n      const now = new Date();\n      const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\n      return this.filteredArticles.filter(article => new Date(article.date) >= startOfMonth).length;\n    },\n    averageArticlesPerDay() {\n      if (this.filteredArticles.length === 0) return 0;\n      const dates = this.filteredArticles.map(article => article.date.split('T')[0]);\n      const uniqueDates = [...new Set(dates)];\n      return Math.round(this.filteredArticles.length / uniqueDates.length);\n    }\n  },\n  mounted() {\n    this.fetchArticles();\n  },\n  methods: {\n    async fetchArticles() {\n      try {\n        const response = await axios.get('http://localhost:8000/api/articles');\n        this.articles = response.data;\n        this.renderCharts();\n      } catch (error) {\n        console.error('Failed to fetch articles:', error);\n      }\n    },\n    applyFilters() {\n      this.renderCharts();\n    },\n    resetFilters() {\n      this.startDate = '';\n      this.endDate = '';\n      this.renderCharts();\n    },\n    renderCharts() {\n      this.renderCategoryChart();\n      this.renderDateChart();\n    },\n    renderCategoryChart() {\n      if (this.categoryChart) {\n        this.categoryChart.destroy();\n      }\n      const categoryCounts = {};\n      this.filteredArticles.forEach(article => {\n        categoryCounts[article.category] = (categoryCounts[article.category] || 0) + 1;\n      });\n      this.categoryChart = new Chart(this.$refs.categoryChart, {\n        type: 'pie',\n        data: {\n          labels: Object.keys(categoryCounts),\n          datasets: [{\n            data: Object.values(categoryCounts),\n            backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40']\n          }]\n        },\n        options: {\n          responsive: true,\n          plugins: {\n            legend: {\n              position: 'bottom'\n            }\n          }\n        }\n      });\n    },\n    renderDateChart() {\n      if (this.dateChart) {\n        this.dateChart.destroy();\n      }\n      const dateCounts = {};\n      this.filteredArticles.forEach(article => {\n        const date = article.date.split('T')[0];\n        dateCounts[date] = (dateCounts[date] || 0) + 1;\n      });\n      const sortedDates = Object.keys(dateCounts).sort();\n      this.dateChart = new Chart(this.$refs.dateChart, {\n        type: 'bar',\n        data: {\n          labels: sortedDates,\n          datasets: [{\n            label: 'Articles',\n            data: sortedDates.map(date => dateCounts[date]),\n            backgroundColor: '#36A2EB'\n          }]\n        },\n        options: {\n          responsive: true,\n          scales: {\n            y: {\n              beginAtZero: true\n            }\n          }\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","Chart","name","data","articles","startDate","endDate","categoryChart","dateChart","computed","filteredArticles","filtered","filter","article","Date","date","totalArticles","length","uniqueCategories","Set","map","category","size","articlesThisMonth","now","startOfMonth","getFullYear","getMonth","averageArticlesPerDay","dates","split","uniqueDates","Math","round","mounted","fetchArticles","methods","response","get","renderCharts","error","console","applyFilters","resetFilters","renderCategoryChart","renderDateChart","destroy","categoryCounts","forEach","$refs","type","labels","Object","keys","datasets","values","backgroundColor","options","responsive","plugins","legend","position","dateCounts","sortedDates","sort","label","scales","y","beginAtZero"],"sources":["E:\\Test Telkom\\laravel-vue-app\\frontend\\src\\components\\Dashboard.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h2>Articles Dashboard</h2>\r\n\r\n    <div class=\"row mb-4\">\r\n      <div class=\"col-md-4\">\r\n        <label class=\"form-label\">Start Date</label>\r\n        <input type=\"date\" class=\"form-control\" v-model=\"startDate\">\r\n      </div>\r\n      <div class=\"col-md-4\">\r\n        <label class=\"form-label\">End Date</label>\r\n        <input type=\"date\" class=\"form-control\" v-model=\"endDate\">\r\n      </div>\r\n      <div class=\"col-md-4 d-flex align-items-end\">\r\n        <button class=\"btn btn-primary me-2\" @click=\"applyFilters\">Apply Filters</button>\r\n        <button class=\"btn btn-outline-secondary\" @click=\"resetFilters\">Reset</button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h5>Articles by Category</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <canvas ref=\"categoryChart\"></canvas>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h5>Articles by Date</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <canvas ref=\"dateChart\"></canvas>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mt-4\">\r\n      <div class=\"col-md-12\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header\">\r\n            <h5>Summary Statistics</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-3\">\r\n                <div class=\"text-center\">\r\n                  <h3>{{ totalArticles }}</h3>\r\n                  <p>Total Articles</p>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-3\">\r\n                <div class=\"text-center\">\r\n                  <h3>{{ uniqueCategories }}</h3>\r\n                  <p>Categories</p>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-3\">\r\n                <div class=\"text-center\">\r\n                  <h3>{{ articlesThisMonth }}</h3>\r\n                  <p>This Month</p>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-3\">\r\n                <div class=\"text-center\">\r\n                  <h3>{{ averageArticlesPerDay }}</h3>\r\n                  <p>Avg per Day</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable vue/multi-word-component-names */\r\nimport axios from 'axios'\r\nimport Chart from 'chart.js/auto'\r\n\r\nexport default {\r\n  name: 'Dashboard',\r\n  data() {\r\n    return {\r\n      articles: [],\r\n      startDate: '',\r\n      endDate: '',\r\n      categoryChart: null,\r\n      dateChart: null\r\n    }\r\n  },\r\n  computed: {\r\n    filteredArticles() {\r\n      let filtered = this.articles\r\n      if (this.startDate) {\r\n        filtered = filtered.filter(article => new Date(article.date) >= new Date(this.startDate))\r\n      }\r\n      if (this.endDate) {\r\n        filtered = filtered.filter(article => new Date(article.date) <= new Date(this.endDate))\r\n      }\r\n      return filtered\r\n    },\r\n    totalArticles() {\r\n      return this.filteredArticles.length\r\n    },\r\n    uniqueCategories() {\r\n      return new Set(this.filteredArticles.map(article => article.category)).size\r\n    },\r\n    articlesThisMonth() {\r\n      const now = new Date()\r\n      const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1)\r\n      return this.filteredArticles.filter(article => new Date(article.date) >= startOfMonth).length\r\n    },\r\n    averageArticlesPerDay() {\r\n      if (this.filteredArticles.length === 0) return 0\r\n      const dates = this.filteredArticles.map(article => article.date.split('T')[0])\r\n      const uniqueDates = [...new Set(dates)]\r\n      return Math.round(this.filteredArticles.length / uniqueDates.length)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchArticles()\r\n  },\r\n  methods: {\r\n    async fetchArticles() {\r\n      try {\r\n        const response = await axios.get('http://localhost:8000/api/articles')\r\n        this.articles = response.data\r\n        this.renderCharts()\r\n      } catch (error) {\r\n        console.error('Failed to fetch articles:', error)\r\n      }\r\n    },\r\n    applyFilters() {\r\n      this.renderCharts()\r\n    },\r\n    resetFilters() {\r\n      this.startDate = ''\r\n      this.endDate = ''\r\n      this.renderCharts()\r\n    },\r\n    renderCharts() {\r\n      this.renderCategoryChart()\r\n      this.renderDateChart()\r\n    },\r\n    renderCategoryChart() {\r\n      if (this.categoryChart) {\r\n        this.categoryChart.destroy()\r\n      }\r\n\r\n      const categoryCounts = {}\r\n      this.filteredArticles.forEach(article => {\r\n        categoryCounts[article.category] = (categoryCounts[article.category] || 0) + 1\r\n      })\r\n\r\n      this.categoryChart = new Chart(this.$refs.categoryChart, {\r\n        type: 'pie',\r\n        data: {\r\n          labels: Object.keys(categoryCounts),\r\n          datasets: [{\r\n            data: Object.values(categoryCounts),\r\n            backgroundColor: [\r\n              '#FF6384',\r\n              '#36A2EB',\r\n              '#FFCE56',\r\n              '#4BC0C0',\r\n              '#9966FF',\r\n              '#FF9F40'\r\n            ]\r\n          }]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          plugins: {\r\n            legend: {\r\n              position: 'bottom'\r\n            }\r\n          }\r\n        }\r\n      })\r\n    },\r\n    renderDateChart() {\r\n      if (this.dateChart) {\r\n        this.dateChart.destroy()\r\n      }\r\n\r\n      const dateCounts = {}\r\n      this.filteredArticles.forEach(article => {\r\n        const date = article.date.split('T')[0]\r\n        dateCounts[date] = (dateCounts[date] || 0) + 1\r\n      })\r\n\r\n      const sortedDates = Object.keys(dateCounts).sort()\r\n\r\n      this.dateChart = new Chart(this.$refs.dateChart, {\r\n        type: 'bar',\r\n        data: {\r\n          labels: sortedDates,\r\n          datasets: [{\r\n            label: 'Articles',\r\n            data: sortedDates.map(date => dateCounts[date]),\r\n            backgroundColor: '#36A2EB'\r\n          }]\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          scales: {\r\n            y: {\r\n              beginAtZero: true\r\n            }\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}